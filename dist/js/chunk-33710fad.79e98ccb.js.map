{"version":3,"sources":["webpack:///./src/views/articles/index.vue?cb37","webpack:///src/views/articles/index.vue","webpack:///./src/views/articles/index.vue?75b5","webpack:///./src/views/articles/index.vue","webpack:///./node_modules/core-js/modules/es.regexp.to-string.js","webpack:///./node_modules/core-js/internals/regexp-flags.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","slot","_v","ref","form","model","value","callback","$$v","$set","expression","loading","on","hQuery","staticStyle","_s","total_count","curPage","directives","name","rawName","articles","scopedSlots","_u","key","fn","scope","row","cover","images","status","_e","$event","hEdit","hDelete","hPageChange","staticRenderFns","props","data","channelId","date","channels","components","MyBreadcrumb","vmodel1","created","loadArticles","loadChanels","methods","beginPubdate","channel_id","begin_pubdate","end_pubdate","endPubdate","page","console","log","res","err","message","type","$router","push","id","$confirm","confirmButtonText","cancelButtonText","dir","component","redefine","anObject","fails","flags","TO_STRING","RegExpPrototype","RegExp","prototype","nativeToString","NOT_GENERIC","call","source","INCORRECT_NAME","R","p","String","rf","f","undefined","unsafe","module","exports","that","result","global","ignoreCase","multiline","dotAll","unicode","sticky"],"mappings":"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","file":"js/chunk-33710fad.79e98ccb.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"article-container\"},[_c('el-card',{staticClass:\"box-card\"},[_c('div',{staticClass:\"clearfix\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('my-breadcrumb',[_vm._v(\"内容管理\")])],1),_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form,\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"状态\"}},[_c('el-radio-group',{model:{value:(_vm.form.status),callback:function ($$v) {_vm.$set(_vm.form, \"status\", $$v)},expression:\"form.status\"}},[_c('el-radio',{attrs:{\"label\":null}},[_vm._v(\"全部\")]),_c('el-radio',{attrs:{\"label\":0}},[_vm._v(\"草稿\")]),_c('el-radio',{attrs:{\"label\":1}},[_vm._v(\"待审核\")]),_c('el-radio',{attrs:{\"label\":2}},[_vm._v(\"审核通过\")]),_c('el-radio',{attrs:{\"label\":3}},[_vm._v(\"审核失败\")]),_c('el-radio',{attrs:{\"label\":4}},[_vm._v(\"已删除\")])],1)],1),_c('vmodel1',{model:{value:(_vm.form.channelId),callback:function ($$v) {_vm.$set(_vm.form, \"channelId\", $$v)},expression:\"form.channelId\"}}),_c('el-form-item',{attrs:{\"label\":\"日期\"}},[_c('el-date-picker',{attrs:{\"type\":\"daterange\",\"value-format\":\"yyyy-MM-dd\",\"range-separator\":\"至\",\"start-placeholder\":\"开始日期\",\"end-placeholder\":\"结束日期\"},model:{value:(_vm.form.date),callback:function ($$v) {_vm.$set(_vm.form, \"date\", $$v)},expression:\"form.date\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\",\"loading\":_vm.loading},on:{\"click\":_vm.hQuery}},[_vm._v(\"查询\")])],1)],1)],1),_c('el-card',{staticStyle:{\"margin-top\":\"20px\"}},[_c('div',{attrs:{\"slot\":\"header\"},slot:\"header\"},[_vm._v(\" 根据筛选条件查询到\"+_vm._s(_vm.total_count)+\"条数据,当前是第\"+_vm._s(_vm.curPage)+\"页： \")]),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.articles}},[_c('el-table-column',{attrs:{\"label\":\"封面\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-image',{staticStyle:{\"width\":\"150px\",\"height\":\"100px\"},attrs:{\"src\":scope.row.cover.images[0],\"lazy\":\"\"}},[_c('div',{staticClass:\"image-slot\",attrs:{\"slot\":\"placeholder\"},slot:\"placeholder\"},[_vm._v(\" 加载中\"),_c('span',{staticClass:\"dot\"},[_vm._v(\"...\")])])])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"title\",\"label\":\"标题\"}}),_c('el-table-column',{attrs:{\"label\":\"状态\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.status===0)?_c('el-tag',[_vm._v(\"草稿\")]):(scope.row.status===1)?_c('el-tag',{attrs:{\"type\":\"info\"}},[_vm._v(\"待审核\")]):(scope.row.status===2)?_c('el-tag',{attrs:{\"type\":\"success\"}},[_vm._v(\"审核通过\")]):(scope.row.status===3)?_c('el-tag',{attrs:{\"type\":\"warning\"}},[_vm._v(\"审核失败\")]):(scope.row.status===4)?_c('el-tag',{attrs:{\"type\":\"danger\"}},[_vm._v(\"已删除\")]):_vm._e()]}}])}),_c('el-table-column',{attrs:{\"prop\":\"pubdate\",\"label\":\"发布时间\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\",\"icon\":\"el-icon-edit\",\"type\":\"primary\",\"circle\":\"\"},on:{\"click\":function($event){return _vm.hEdit(scope.row)}}}),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\",\"icon\":\"el-icon-delete\",\"circle\":\"\"},on:{\"click\":function($event){return _vm.hDelete(scope.row)}}})]}}])})],1),_c('el-pagination',{staticStyle:{\"margin-top\":\"10px\"},attrs:{\"disabled\":_vm.loading,\"background\":\"\",\"layout\":\"prev, pager, next\",\"page-size\":10,\"total\":_vm.total_count},on:{\"current-change\":_vm.hPageChange}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class='article-container'>\r\n    <el-card class=\"box-card\">\r\n      <div slot=\"header\" class=\"clearfix\">\r\n        <!-- 面包屑导航\r\n        https://element.eleme.cn/#/zh-CN/component/breadcrumb#tu-biao-fen-ge-fu -->\r\n        <!-- <el-breadcrumb separator-class=\"el-icon-arrow-right\">\r\n          <el-breadcrumb-item :to=\"{ path: '/' }\">首页</el-breadcrumb-item>\r\n          <el-breadcrumb-item>内容管理</el-breadcrumb-item>\r\n        </el-breadcrumb> -->\r\n        <my-breadcrumb>内容管理</my-breadcrumb>\r\n      </div>\r\n\r\n      <el-form ref=\"form\" :model=\"form\" label-width=\"80px\">\r\n        <el-form-item label=\"状态\">\r\n          <!-- label用来决定选择项被选中之后，它表示的值 -->\r\n          <el-radio-group v-model=\"form.status\">\r\n            <el-radio :label=\"null\">全部</el-radio>\r\n            <el-radio :label=\"0\">草稿</el-radio>\r\n            <el-radio :label=\"1\">待审核</el-radio>\r\n            <el-radio :label=\"2\">审核通过</el-radio>\r\n            <el-radio :label=\"3\">审核失败</el-radio>\r\n            <el-radio :label=\"4\">已删除</el-radio>\r\n          </el-radio-group>\r\n        </el-form-item>\r\n        <!-- <el-form-item label=\"频道\">\r\n          <el-select v-model=\"form.channelId\" clearable placeholder=\"请选择频道\">\r\n            <el-option\r\n            v-for=\"channel in channels\"\r\n            :key=\"channel.id\"\r\n            :label=\"channel.name\"\r\n            :value=\"channel.id\"></el-option>\r\n          </el-select>\r\n        </el-form-item> -->\r\n        <vmodel1 v-model=\"form.channelId\"></vmodel1>\r\n        <!--\r\n          daterange:\r\n               date日期，range:区域\r\n          value-format：\r\n            绑定值的格式。不指定则绑定值为 Date 对象\r\n          -->\r\n        <el-form-item label=\"日期\">\r\n          <el-date-picker\r\n            v-model=\"form.date\"\r\n            type=\"daterange\"\r\n            value-format=\"yyyy-MM-dd\"\r\n            range-separator=\"至\"\r\n            start-placeholder=\"开始日期\"\r\n            end-placeholder=\"结束日期\">\r\n          </el-date-picker>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-button type=\"primary\" @click=\"hQuery\" :loading=\"loading\">查询</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </el-card>\r\n    <!--\r\n    下部是一个表格区域\r\n      https://element.eleme.cn/#/zh-CN/component/table\r\n\r\n      1. 表格的列，结构。\r\n        列由el-table-column决定。\r\n          label：决定当前列显示出的标题\r\n          prop：决定当前列数据的来源。prop=\"date\"。对于表格来说，\r\n                它的数据是一个数组，每一个元素是一个对象，表示一行。\r\n                这里的prop就是用来从每一个对象中取出属性名为prop值（date）的\r\n                属性值。\r\n\r\n      2. 表格的行，数据。\r\n    -->\r\n    <el-card style=\"margin-top:20px;\">\r\n      <div slot=\"header\">\r\n        根据筛选条件查询到{{total_count}}条数据,当前是第{{curPage}}页：\r\n      </div>\r\n      <el-table\r\n        v-loading=\"loading\"\r\n        :data=\"articles\"\r\n        style=\"width: 100%\">\r\n        <el-table-column\r\n          label=\"封面\"\r\n         >\r\n          <template slot-scope=\"scope\">\r\n            <!-- scope.row用于获取当前行的数据 -->\r\n            <!-- 图片 -->\r\n            <!-- <div>{{scope.row.cover.images[0]}}</div> -->\r\n\r\n            <!-- el-image:\r\n            - lazy懒加载效果 https://element.eleme.cn/#/zh-CN/component/image#lan-jia-zai\r\n             -->\r\n            <el-image\r\n              :src=\"scope.row.cover.images[0]\"\r\n              style=\"width:150px;height:100px\"\r\n              lazy\r\n              >\r\n              <div slot=\"placeholder\" class=\"image-slot\">\r\n                加载中<span class=\"dot\">...</span>\r\n              </div>\r\n            </el-image>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column\r\n          prop=\"title\"\r\n          label=\"标题\"\r\n        >\r\n        </el-table-column>\r\n        <!-- s由于后端回传的数据是数值，而我们要显示出来是对应字符串，\r\n        所以，这里不能直接使用status -->\r\n        <el-table-column\r\n          label=\"状态\"\r\n        >\r\n          <template slot-scope=\"scope\">\r\n            <el-tag v-if=\"scope.row.status===0\">草稿</el-tag>\r\n            <el-tag v-else-if=\"scope.row.status===1\" type=\"info\">待审核</el-tag>\r\n            <el-tag v-else-if=\"scope.row.status===2\" type=\"success\">审核通过</el-tag>\r\n            <el-tag v-else-if=\"scope.row.status===3\" type=\"warning\">审核失败</el-tag>\r\n            <el-tag v-else-if=\"scope.row.status===4\" type=\"danger\">已删除</el-tag>\r\n          </template>\r\n        </el-table-column>\r\n\r\n        <el-table-column\r\n          prop=\"pubdate\"\r\n          label=\"发布时间\"\r\n        >\r\n        </el-table-column>\r\n\r\n        <el-table-column\r\n          label=\"操作\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button\r\n              size=\"mini\"\r\n              icon=\"el-icon-edit\"\r\n              type=\"primary\"\r\n              circle\r\n              @click=\"hEdit(scope.row)\"></el-button>\r\n            <el-button\r\n              size=\"mini\"\r\n              type=\"danger\"\r\n              icon=\"el-icon-delete\"\r\n              circle\r\n              @click=\"hDelete(scope.row)\"></el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <!-- 分页组件\r\n        它只是根据total和page-size来显示页码，而与具体的表格数据无关\r\n\r\n        1. total是总条数数；\r\n        默认情况，它会以每页10条进行计算总页数\r\n        2. current-change。当点击页码时，它会触发,会传入当前的页码。\r\n      -->\r\n      <el-pagination\r\n        :disabled=\"loading\"\r\n        style=\"margin-top:10px;\"\r\n        background\r\n        layout=\"prev, pager, next\"\r\n        @current-change=\"hPageChange\"\r\n        :page-size=\"10\"\r\n        :total=\"total_count\">\r\n      </el-pagination>\r\n\r\n    </el-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport vmodel1 from '@/components/vmodel1'\r\nimport MyBreadcrumb from '../../components/MyBreadcrumb'\r\nimport { getArticles, getArticleChannels, deleteArticle } from '../../api/articles'\r\nexport default {\r\n  name: 'ArticleIndex',\r\n  props: { },\r\n  data () {\r\n    return {\r\n      loading: false, // 是否正在查询\r\n      form: {\r\n        channelId: null, // 下拉列表选中的值\r\n        date: null, // 查询日期区间，默认为null\r\n        status: null // 查询文章的状态，默认为null\r\n      },\r\n      curPage: 1, // 当前要查询的页码\r\n      total_count: 0, // 当前查询能查到的总条数\r\n      channels: [], // 保存所有获取的频道\r\n      articles: [\r\n        // {cover:Object,id,pubdate,status,title}\r\n      ] // 文章列表\r\n    }\r\n  },\r\n  components: {\r\n    MyBreadcrumb,\r\n    vmodel1\r\n  },\r\n  created () {\r\n    // 相当于window.onload 。\r\n    // 当组件创建时，会自动调用created\r\n    this.loadArticles()\r\n\r\n    this.loadChanels()\r\n  },\r\n  methods: {\r\n    loadChanels () {\r\n      getArticleChannels().then(res => {\r\n        // console.log('获取频道的数据', res)\r\n        this.channels = res.data.data.channels\r\n      })\r\n    },\r\n    loadArticles () {\r\n      // 调用导入的方法\r\n      // 补充一个查询参数 page\r\n      // 分析后端接口，补充begin_pubdate，end_pubdate参数\r\n\r\n      // 求这个式子的值：this.form.date && this.form.date[0]\r\n      //    - 如果 this.form.date 是 null，  则整个式子的值是 null\r\n      //    - 如果 this.form.date不是 null， 则整个式子的值是 this.form.date[0]\r\n\r\n      // 如果用户选择了日期范围，则传入即可；\r\n      // 如果用户没有选择日期范围，则要把参数设置为null---axios会把参数值为null的数据过滤掉，即不传递这个参数给后端\r\n\r\n      let beginPubdate = null\r\n      if (this.form.date) {\r\n        beginPubdate = this.form.date[0]\r\n      }\r\n\r\n      // const beginPubdate = this.form.date && this.form.date[0]\r\n\r\n      const endPubdate = this.form.date && this.form.date[1]\r\n\r\n      // 如果this.form.channelId = ''，此时应该把值设置为null\r\n      // 只有值为null，axios才不会传递这个参数\r\n      // 只有值为null，axios才不会传递这个参数\r\n      // 只有值为null，axios才不会传递这个参数\r\n      let channelId = null\r\n      if (this.form.channelId) {\r\n        channelId = this.form.channelId\r\n      }\r\n\r\n      // 开始加载状态\r\n      this.loading = true\r\n      getArticles({\r\n        channel_id: channelId, // this.form.channelId || null\r\n        status: this.form.status,\r\n        begin_pubdate: beginPubdate,\r\n        end_pubdate: endPubdate,\r\n        page: this.curPage\r\n      }).then(res => {\r\n        console.log('获取文章的文章', res)\r\n        this.articles = res.data.data.results\r\n        // 保存总数\r\n        this.total_count = res.data.data.total_count\r\n\r\n        // 关闭加载状态\r\n        this.loading = false\r\n      }).catch(err => {\r\n        console.log(err)\r\n        // alert('错误！')\r\n        this.$message({\r\n          message: '查询失败，参数无效',\r\n          type: 'error'\r\n        })\r\n\r\n        // 关闭加载状态\r\n        this.loading = false\r\n      })\r\n    },\r\n    hQuery () {\r\n      // console.log(this.form.date)\r\n      // 再次调用 查询方法\r\n      // 用户点击查询，重置页码\r\n      this.curPage = 1\r\n      this.loadArticles()\r\n    },\r\n    hEdit (row) {\r\n      // 路由跳转到编辑页，并传入id号\r\n      const id = row.id.toString()\r\n\r\n      // 编程式导航\r\n      this.$router.push('/editArticle/' + id)\r\n    },\r\n    hDelete (row) {\r\n      // 用户点击了删除\r\n      console.log('要删除的数据如下', row)\r\n      const id = row.id.toString()\r\n      console.log('要删除的文章的编号是', id)\r\n\r\n      this.$confirm('你确定要删除吗?', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(() => {\r\n        // 根据id去删除文章：调用接口传入id\r\n        deleteArticle(id).then(res => {\r\n          // 删除成功\r\n          // 1. 提示\r\n          this.$message({\r\n            message: '删除成功！',\r\n            type: 'success'\r\n          })\r\n          // 2. 重新加载当前页的数据\r\n          this.loadArticles()\r\n        }).catch(err => {\r\n          this.$message({\r\n            message: '删除失败',\r\n            type: 'error'\r\n          })\r\n          console.dir(err)\r\n        })\r\n      }).catch(() => {\r\n      })\r\n    },\r\n    hPageChange (curPage) {\r\n      console.log(curPage)\r\n      // 1. 更新当前页码\r\n      this.curPage = curPage\r\n      // 2. 再发请求\r\n      this.loadArticles()\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang='less'></style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=5626070d&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5626070d\",\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar redefine = require('../internals/redefine');\nvar anObject = require('../internals/an-object');\nvar fails = require('../internals/fails');\nvar flags = require('../internals/regexp-flags');\n\nvar TO_STRING = 'toString';\nvar RegExpPrototype = RegExp.prototype;\nvar nativeToString = RegExpPrototype[TO_STRING];\n\nvar NOT_GENERIC = fails(function () { return nativeToString.call({ source: 'a', flags: 'b' }) != '/a/b'; });\n// FF44- RegExp#toString has a wrong name\nvar INCORRECT_NAME = nativeToString.name != TO_STRING;\n\n// `RegExp.prototype.toString` method\n// https://tc39.github.io/ecma262/#sec-regexp.prototype.tostring\nif (NOT_GENERIC || INCORRECT_NAME) {\n  redefine(RegExp.prototype, TO_STRING, function toString() {\n    var R = anObject(this);\n    var p = String(R.source);\n    var rf = R.flags;\n    var f = String(rf === undefined && R instanceof RegExp && !('flags' in RegExpPrototype) ? flags.call(R) : rf);\n    return '/' + p + '/' + f;\n  }, { unsafe: true });\n}\n","'use strict';\nvar anObject = require('../internals/an-object');\n\n// `RegExp.prototype.flags` getter implementation\n// https://tc39.github.io/ecma262/#sec-get-regexp.prototype.flags\nmodule.exports = function () {\n  var that = anObject(this);\n  var result = '';\n  if (that.global) result += 'g';\n  if (that.ignoreCase) result += 'i';\n  if (that.multiline) result += 'm';\n  if (that.dotAll) result += 's';\n  if (that.unicode) result += 'u';\n  if (that.sticky) result += 'y';\n  return result;\n};\n"],"sourceRoot":""}